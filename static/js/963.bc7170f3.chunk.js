"use strict";(self.webpackChunkarchitectui_react_pro=self.webpackChunkarchitectui_react_pro||[]).push([[963],{1963:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(70885),a=n(72791),s=n(3947),o=n(41238),i=n(37762),c=n(15861),l=n(87757),d=n.n(l),u=n(78267),p=n(34711),h=n(79001),f=n(71714),m=n(92417),x=n(16906),g=n(27172),y=n(59829),b=n(50552),j=n(86678),w=n(75593),v=n(55240),k=n(83273),N=n(80184),C=function(e){var t=e.monkeyType,n=e.monkeyLevel,r=e.tokenId,a=e.upgradeNftRequest,s={1:"Cave Monkey",2:"Gatherer",3:"Hunter",4:"Firebender",5:"Farmer",6:"Guardian",7:"King",8:"Intern",9:"Crypto Investor",10:"Meta Monkey",11:"Cyborg"}[t],o=function(e){return{1:h,2:f,3:m,4:x,5:g,6:y,7:b,8:j,9:w,10:v,11:k}[e]}(t),i=function(e){var t={1:"Common",2:"Common",3:"Common",4:"Common",5:"Rare",6:"Rare",7:"Rare",8:"Epic",9:"Epic",10:"Legendary",11:"Legendary"}[e],n={Common:"grey",Rare:"gold",Epic:"purple",Legendary:"red"}[t];return(0,N.jsxs)("span",{className:"position-absolute top-0 translate-middle badge rounded-pill",style:{left:"50%",fontSize:"1rem",background:n,color:"black"},children:[t,(0,N.jsx)("span",{className:"visually-hidden",children:"rarity level"})]})}(t),c=function(e){return{1:"10",2:"15",3:"30",4:"50",5:"100",6:"130",7:"240",8:"425",9:"730",10:"945",11:"1450"}[e]}(t);return(0,N.jsx)(p.JX,{md:"4",sm:"6",xs:"12",style:{display:"flex",justifyContent:"center"},children:(0,N.jsxs)(p.Zb,{className:"m-2",style:{width:"80%",background:"#240940",color:"white"},children:[i,(0,N.jsx)(p.Mo,{top:!0,width:"80%",src:o,alt:"Common Portal"}),(0,N.jsxs)(p.eW,{children:[(0,N.jsx)(p.ll,{style:{color:"white"},children:s}),(0,N.jsxs)(p._R,{children:["#",r]}),(0,N.jsxs)(p._R,{children:["IQ Power: ",c]}),(0,N.jsxs)(p._R,{children:["Level: ",n]}),(0,N.jsx)(p.zx,{onClick:a,disabled:"2"===n,color:"primary",children:"Upgrade monkey"})]})]})})},Z=n(15671),F=n(43144),I=n(97326),T=n(60136),P=n(54062),B=n(92669),S=function(e){(0,T.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).state={backdrop:!0,disabledButtonCancel:!1,disabledButtonUpgrade:!1},r.toggle=r.toggle.bind((0,I.Z)(r)),r.changeBackdrop=r.changeBackdrop.bind((0,I.Z)(r)),r}return(0,F.Z)(n,[{key:"componentDidMount",value:function(){1===this.props.NFTProcessPhase?this.setState({disabledButtonCancel:!0,disabledButtonUpgrade:!0}):(2===this.props.NFTProcessPhase||3===this.props.NFTProcessPhase)&&this.setState({disabledButtonCancel:!1,disabledButtonUpgrade:!0})}},{key:"toggle",value:function(){this.props.closeModal()}},{key:"changeBackdrop",value:function(e){var t=e.target.value;"static"!==t&&(t=JSON.parse(t)),this.setState({backdrop:t})}},{key:"render",value:function(){var e,t=this;return 0===this.props.NFTProcessPhase?e=(0,N.jsxs)(N.Fragment,{children:["Are you sure you want to upgrade your NFT of type ",this.props.monkeyType," to level 2? Upgrade cost is ",B.Rj," $BNANA."]}):1===this.props.NFTProcessPhase?e=(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(p.$j,{type:"grow",color:"warning"}),"Please wait while the blockchain processes your transaction..."]}):2===this.props.NFTProcessPhase?e=(0,N.jsx)(N.Fragment,{children:"Congratulations! Your NFT was upgraded to level 2!"}):3===this.props.NFTProcessPhase&&(e=(0,N.jsxs)(N.Fragment,{children:["Looks like something went wrong... Some usual causes are: ",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),"1. You didn't approve the transaction on MetaMask ",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),"2. You don't have enough BNANA in your wallet for the transaction ",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),"3. Your internet connection is unstable ",(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),"If you cannot use this functionality, please contact our team on telegram or discord for assistance!"]})),(0,N.jsxs)(p.u_,{isOpen:this.props.open,toggle:this.toggle,className:this.props.className,backdrop:this.state.backdrop,children:[(0,N.jsx)(p.xB,{style:{background:"#561473",color:"white",borderColor:"#561473"},toggle:this.toggle,children:"Char Upgrade"}),(0,N.jsx)(p.fe,{style:{background:"#6C32A6",color:"white"},children:e}),(0,N.jsxs)(p.mz,{style:{background:"#561473",color:"white",borderColor:"#561473"},children:[(0,N.jsx)(p.zx,{disabled:this.state.disabledButtonCancel,color:"link",onClick:this.toggle,children:"Cancel"}),(0,N.jsx)(p.zx,{disabled:this.state.disabledButtonUpgrade,color:"primary",onClick:function(){return t.props.upgradeNftAccept()},children:"Upgrade"})," "]})]})}}]),n}(a.Component),A=n(20984),_=function(){var e=(0,a.useState)("load"),t=(0,r.Z)(e,2),n=t[0],s=t[1],o=(0,a.useState)(!1),l=(0,r.Z)(o,2),h=l[0],f=l[1],m=(0,a.useState)({}),x=(0,r.Z)(m,2),g=x[0],y=x[1],b=(0,a.useState)(0),j=(0,r.Z)(b,2),w=j[0],v=j[1],k=function(){var e=(0,c.Z)(d().mark((function e(){var t,n,r,a,o,c,l,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===window.isUserWallet){e.next=3;break}return s("load"),e.abrupt("return","");case 3:return e.next=5,window.web3Instance.eth.getAccounts();case 5:return t=e.sent,e.next=8,window.nftContract.methods.balanceOf(t[0]).call();case 8:n=e.sent,r=[],a=(0,i.Z)(Array(parseInt(n)).keys()),e.prev=11,a.s();case 13:if((o=a.n()).done){e.next=24;break}return c=o.value,e.next=17,window.nftContract.methods.tokenOfOwnerByIndex(t[0],c).call();case 17:return l=e.sent,e.next=20,window.nftContract.methods.getNftData(l).call();case 20:u=e.sent,r.push({nftIndex:l,nftData:u});case 22:e.next=13;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(11),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:s(r);case 33:case"end":return e.stop()}}),e,null,[[11,26,29,32]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){"load"===n&&k()}));var Z,F=function(){var e=(0,c.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(0),f(!0),y(t),console.log(h);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,c.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("b"),v(1),console.log(w),console.log("c"),e.next=6,window.web3Instance.eth.getAccounts();case 6:return t=e.sent,console.log(t),e.prev=8,e.next=11,window.bnanaContract.methods.approve(window.nftContract.options.address,window.web3Instance.utils.toWei(B.Rj,"ether")).send({from:t[0],gas:"100000"});case 11:return e.next=13,window.nftContract.methods.upgradeNft(t[0],g.tokenId).send({from:t[0],gas:"100000"});case 13:v(2),k(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),v(3);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(){return e.apply(this,arguments)}}();if(window.isUserWallet)if("load"===n)Z=(0,N.jsx)(p.JX,{md:"12",children:(0,N.jsx)(p.Zb,{className:"main-card mb-3 mt-3",style:{background:"#561473"},children:(0,N.jsxs)(p.eW,{children:[(0,N.jsx)(p.ll,{style:{color:"white"},children:(0,N.jsx)(p.$j,{type:"grow",color:"warning"})}),(0,N.jsx)(p._R,{style:{color:"white"},children:"Loading your collection, please wait"})]})})});else if(0===n.length)Z=(0,N.jsx)(p.JX,{md:"12",children:(0,N.jsx)(p.Zb,{className:"main-card mb-3 mt-3",style:{background:"#561473"},children:(0,N.jsx)(p.eW,{children:(0,N.jsxs)(p.ll,{style:{color:"white"},children:["Oh no, it seems that you don't have any cryptomonkeys NFT yet... ",(0,N.jsx)("br",{}),"Buy your first in the portals page!"]})})})});else{Z=[];var T,P=(0,i.Z)(n);try{var _=function(){var e=T.value;if(!e.nftData[3])return"continue";var t=(parseInt(e.nftIndex)+7834).toString();Z.push((0,N.jsx)(C,{upgradeNftRequest:function(){return F({tokenId:e.nftIndex,nftData:e.nftData})},monkeyType:e.nftData[0],monkeyLevel:e.nftData[1],tokenId:t},e.nftIndex))};for(P.s();!(T=P.n()).done;)_()}catch(M){P.e(M)}finally{P.f()}}else Z=(0,N.jsx)(p.JX,{md:"12",children:(0,N.jsx)(p.Zb,{className:"main-card mb-3 mt-3",style:{background:"#561473"},children:(0,N.jsx)(p.eW,{children:(0,N.jsxs)(p.ll,{style:{color:"white"},children:[(0,N.jsx)("img",{src:A,alt:"",className:"me-3",style:{width:"50px",height:"auto"}}),"Connect your wallet to see your NFT collection"]})})})});return(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(u.TransitionGroup,{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,N.jsx)(u.CSSTransition,{component:"div",classNames:"TabsAnimation",appear:!0,timeout:1500,enter:!1,exit:!1,children:(0,N.jsxs)(p.X2,{className:"text-center gx-0",style:{width:"90%"},children:[(0,N.jsx)(p.JX,{md:"12",children:(0,N.jsx)(p.Zb,{className:"main-card mb-3 mt-3",style:{background:"#561473"},children:(0,N.jsxs)(p.eW,{children:[(0,N.jsx)(p.ll,{style:{color:"white"},children:"Your NFT Collection"}),(0,N.jsx)("div",{className:"divider"})]})})}),Z]})})}),(0,N.jsx)(S,{upgradeNftAccept:I,closeModal:function(){return f(!1)},open:h,NFTUpgradeData:g,NFTProcessPhase:w})]})};var M=function(e){e.match;var t=function(){var e=(0,a.useState)(0),t=(0,r.Z)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s.Z,{forceUpdate:function(){return t()}}),(0,N.jsxs)("div",{className:"app-main",children:[(0,N.jsx)(o.Z,{}),(0,N.jsx)("div",{className:"app-main__outer",children:(0,N.jsx)("div",{className:"app-main__inner p-0",children:(0,N.jsx)(_,{})})})]})]})}},79001:function(e,t,n){e.exports=n.p+"static/media/CaveMonkey.14b04e2f969ad6d66361.png"},75593:function(e,t,n){e.exports=n.p+"static/media/CryptoInvestor.701f53b5191adccf7789.png"},83273:function(e,t,n){e.exports=n.p+"static/media/Cyborg.2091d7fe71ba4475f4a5.png"},27172:function(e,t,n){e.exports=n.p+"static/media/Farmer.f758d87672111788f670.png"},16906:function(e,t,n){e.exports=n.p+"static/media/FireBender.772cb530f5f96a3b7101.png"},71714:function(e,t,n){e.exports=n.p+"static/media/Gatherer.a6c1d1170167d58ea04b.png"},59829:function(e,t,n){e.exports=n.p+"static/media/Guardian.756bfffd158854fd4965.png"},92417:function(e,t,n){e.exports=n.p+"static/media/Hunter.d14f3a23a676fd72ec2e.png"},86678:function(e,t,n){e.exports=n.p+"static/media/Intern.a71624ac2f6a3856c37e.png"},50552:function(e,t,n){e.exports=n.p+"static/media/King.20562a667c601a3523eb.png"},55240:function(e,t,n){e.exports=n.p+"static/media/MetaMonkey.6861403322a37b115da1.png"},37762:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(40181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}}}]);
//# sourceMappingURL=963.bc7170f3.chunk.js.map