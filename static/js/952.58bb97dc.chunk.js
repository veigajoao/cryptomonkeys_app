"use strict";(self.webpackChunkarchitectui_react_pro=self.webpackChunkarchitectui_react_pro||[]).push([[952],{94952:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(70885),s=n(72791),r=n(3947),o=n(41238),i=n(37762),l=n(15861),c=n(87757),d=n.n(c),u=n(78267),h=n(34711),m=n(80184),p=function(e){var t,n=(0,s.useState)(0),r=(0,a.Z)(n,2),o=r[0],i=r[1],l=(0,s.useState)(0),c=(0,a.Z)(l,2),d=c[0],u=c[1],p=(0,s.useState)(0),y=(0,a.Z)(p,2),f=y[0],x=y[1],g=(0,s.useState)(!0),b=(0,a.Z)(g,2),j=b[0],k=b[1],w=e.monkeyType,v=e.monkeyLevel,C=e.tokenId,Z=e.playGame,N={1:"Cave Monkey",2:"Gatherer",3:"Hunter",4:"Firebender",5:"Farmer",6:"Guardian",7:"King",8:"Intern",9:"Crypto Investor",10:"Meta Monkey",11:"Cyborg"}[w],I=function(e){var t={1:"Common",2:"Common",3:"Common",4:"Common",5:"Rare",6:"Rare",7:"Rare",8:"Epic",9:"Epic",10:"Legendary",11:"Legendary"}[e],n={Common:"grey",Rare:"gold",Epic:"purple",Legendary:"red"}[t];return(0,m.jsxs)("span",{className:"position-absolute top-50 translate-middle badge rounded-pill",style:{fontSize:"1rem",background:n,color:"black"},children:[t,(0,m.jsx)("span",{className:"visually-hidden",children:"rarity level"})]})}(w);if((0,s.useEffect)((function(){if(!j){var e=(new Date).getTime()/1e3;x(parseInt(d-e)),i(o+1)}}),[d,j,f,o]),j)t=(0,m.jsx)(m.Fragment,{children:"Ready to work"});else{var T=parseInt(f/3600),A=parseInt(f%3600/60),S=parseInt(f%60);A<10&&(A="0"+A.toString()),S<10&&(S="0"+S.toString()),t=(0,m.jsxs)(m.Fragment,{children:["Ready in ",T,":",A,":",S]})}return(0,m.jsx)(h.JX,{xs:"12",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:(0,m.jsx)(h.Zb,{className:"mb-1 mt-2",style:{width:"80%",background:"#240940",color:"white"},children:(0,m.jsx)(h.eW,{children:(0,m.jsxs)(h.X2,{className:"text-center gx-0",children:[(0,m.jsxs)(h.JX,{xs:"2",style:{display:"flex",justifyContent:"left"},children:["#",C]}),(0,m.jsx)(h.JX,{xs:"2",style:{display:"flex",justifyContent:"left"},children:N}),(0,m.jsx)(h.JX,{xs:"2",style:{display:"flex",justifyContent:"center"},children:I}),(0,m.jsxs)(h.JX,{xs:"2",style:{display:"flex",justifyContent:"center"},children:["Level: ",v]}),(0,m.jsx)(h.JX,{xs:"2",style:{display:"flex",justifyContent:"center"},children:t}),(0,m.jsx)(h.JX,{xs:"2",style:{display:"flex",justifyContent:"center"},children:(0,m.jsx)(h.zx,{disabled:!j,onClick:function(){if(j){Z(),k(!1);var e=new Date,t=parseInt(e.getTime()/1e3);u(t+28800)}},color:"primary",children:"WORK!"})})]})})})})},y=n(31887),f=n(34787),x=n(38522),g=n(8298),b=n(53951),j=n(40985),k=n(30951),w=n(72082),v=n(85734),C=function(e){var t=e.monkeyType,n=e.animationDuration,a=e.shouldAnimate,s=e.result,r=function(e){return{1:["cave-transition",y,f,v],2:["cave-transition",y,f,v],3:["cave-transition",y,f,v],4:["cave-transition",y,f,v],5:["farm-transition",x,g,v],6:["farm-transition",x,g,v],7:["farm-transition",x,g,v],8:["office-transition",b,j,v],9:["office-transition",b,j,v],10:["space-transition",k,w,v],11:["space-transition",k,w,v]}[e]}(t),o=a?r[0]:"noAnimation";return(0,m.jsx)(h.JX,{xs:"8",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:(0,m.jsx)(h.Zb,{className:"mb-1 mt-2 border border-3",style:{animationName:o,animationDuration:n,animationIterationCount:"infinite",backgroundImage:"url(".concat(r[s],")"),backgroundPosition:"center",backgroundSize:"cover",color:"white",borderColor:"rgb(200,200,200, 0.5)",width:"50%"},children:(0,m.jsx)(h.eW,{children:(0,m.jsx)("div",{style:{height:"270px"}})})})})},Z=n(15671),N=n(43144),I=n(97326),T=n(60136),A=n(54062),S=function(e){(0,T.Z)(n,e);var t=(0,A.Z)(n);function n(e){var a;return(0,Z.Z)(this,n),(a=t.call(this,e)).state={backdrop:!0},a.toggle=a.toggle.bind((0,I.Z)(a)),a}return(0,N.Z)(n,[{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e;return e=this.props.won?(0,m.jsxs)(m.Fragment,{children:["Congratulations, you just won ",this.props.wonValue," $BNANA! ",(0,m.jsx)("br",{}),"Remember this is a beta version, your balance will appear in your account only as long as your session lasts. ",(0,m.jsx)("br",{}),"Get ready for the real game launch!"]}):(0,m.jsxs)(m.Fragment,{children:["Unfortunatelly your monkey is not ready to farm at this station :( ",(0,m.jsx)("br",{}),"Upgrade him to level 2 so that you can earn $BNANA even if you land at this spot. ",(0,m.jsx)("br",{}),"Remember this is a beta version, your balance will appear in your account only as long as your session lasts. ",(0,m.jsx)("br",{}),"Get ready for the real game launch!"]}),(0,m.jsxs)(h.u_,{isOpen:this.props.open,toggle:this.toggle,className:this.props.className,backdrop:this.state.backdrop,children:[(0,m.jsx)(h.xB,{style:{background:"#561473",color:"white",borderColor:"#561473"},toggle:this.toggle,children:"Game result"}),(0,m.jsx)(h.fe,{style:{background:"#6C32A6",color:"white"},children:e}),(0,m.jsxs)(h.mz,{style:{background:"#561473",color:"white",borderColor:"#561473"},children:[(0,m.jsx)(h.zx,{disabled:this.state.disabledButtonUpgrade,color:"primary",onClick:this.toggle,children:"Ok"})," "]})]})}}]),n}(s.Component),D=function(e){(0,T.Z)(n,e);var t=(0,A.Z)(n);function n(e){var a;return(0,Z.Z)(this,n),(a=t.call(this,e)).state={backdrop:!0},a.toggle=a.toggle.bind((0,I.Z)(a)),a}return(0,N.Z)(n,[{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){return(0,m.jsxs)(h.u_,{isOpen:this.props.open,toggle:this.toggle,className:this.props.className,backdrop:this.state.backdrop,children:[(0,m.jsx)(h.xB,{style:{background:"#561473",color:"white",borderColor:"#561473"},toggle:this.toggle,children:"Game result"}),(0,m.jsxs)(h.fe,{style:{background:"#6C32A6",color:"white"},children:["Use the time machine to bring your monkey to the closest workstation. ",(0,m.jsx)("br",{}),"Each NFT monkey in your collection is able to work 3 times a day, with an eight hour interval (complying with union regulations). ",(0,m.jsx)("br",{}),"The time machine brings your monkey to a random location, there's a 20% chance that the time machine will bring your monkey to a level 2 workstation. If that happens, you'll get 6 times the rewards. But beware, only level 2 monkeys are able to perform these task, if your monkey is level 1 and lands at a level 2 workstation, you'll get no rewards..."]}),(0,m.jsxs)(h.mz,{style:{background:"#561473",color:"white",borderColor:"#561473"},children:[(0,m.jsx)(h.zx,{disabled:this.state.disabledButtonUpgrade,color:"primary",onClick:this.toggle,children:"Ok"})," "]})]})}}]),n}(s.Component),X=n(96529),F=n(20984),J=function(e){var t=(0,s.useState)("load"),n=(0,a.Z)(t,2),r=n[0],o=n[1],c=(0,s.useState)({tokenId:"none",monkeyType:"1",animationDuration:"0s",shouldAnimate:!1,result:3}),y=(0,a.Z)(c,2),f=y[0],x=y[1],g=(0,s.useState)(!1),b=(0,a.Z)(g,2),j=b[0],k=b[1],w=(0,s.useState)(!1),v=(0,a.Z)(w,2),Z=v[0],N=v[1],I=(0,s.useState)(0),T=(0,a.Z)(I,2),A=T[0],J=T[1],M=(0,s.useState)(!0),_=(0,a.Z)(M,2),B=_[0],O=_[1],R=function(){var e=(0,l.Z)(d().mark((function e(){var t,n,a,s,r,l,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===window.isUserWallet){e.next=3;break}return o("load"),e.abrupt("return","");case 3:return e.next=5,window.web3Instance.eth.getAccounts();case 5:return t=e.sent,e.next=8,window.nftContract.methods.balanceOf(t[0]).call();case 8:n=e.sent,a=[],s=(0,i.Z)(Array(parseInt(n)).keys()),e.prev=11,s.s();case 13:if((r=s.n()).done){e.next=24;break}return l=r.value,e.next=17,window.nftContract.methods.tokenOfOwnerByIndex(t[0],l).call();case 17:return c=e.sent,e.next=20,window.nftContract.methods.getNftData(c).call();case 20:u=e.sent,a.push({nftIndex:c,nftData:u});case 22:e.next=13;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(11),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:o(a);case 33:case"end":return e.stop()}}),e,null,[[11,26,29,32]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){"load"===r&&R()}));var z,G=function(){var t=(0,l.Z)(d().mark((function t(n){var a,s,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.scrollTo(0,0),x({tokenId:n.nftIndex,monkeyType:n.nftData[0],animationDuration:"3s",shouldAnimate:!0,result:1}),a=Math.random(),s=a>.8?2:1,1,console.log(e.bnanaBalance),"2"===n.nftData[1]?(N(!0),J(r=2===s?2:1),(0,X.zP)(r)):2===s?N(!1):(N(!0),J(1),(0,X.zP)(1)),setTimeout((function(){x({tokenId:n.nftIndex,monkeyType:n.nftData[0],animationDuration:"5s",shouldAnimate:!0,result:1})}),5e3),setTimeout((function(){x({tokenId:n.nftIndex,monkeyType:n.nftData[0],animationDuration:"3s",shouldAnimate:!1,result:s}),k(!0)}),7500);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(!0!==window.isUserWallet)z=(0,m.jsx)(h.JX,{xs:"12",md:"12",style:{display:"flex",justifyContent:"center"},children:(0,m.jsx)(h.Zb,{className:"mb-1 mt-2",style:{width:"80%",background:"#240940",color:"white"},children:(0,m.jsx)(h.eW,{children:(0,m.jsxs)(h.ll,{style:{color:"white"},children:[(0,m.jsx)("img",{src:F,alt:"",className:"me-3",style:{width:"50px",height:"auto"}}),"Connect your wallet to see your NFT collection"]})})})});else if("load"===r)z=(0,m.jsx)(h.JX,{xs:"12",md:"12",style:{display:"flex",justifyContent:"center"},children:(0,m.jsx)(h.Zb,{className:"mb-1 mt-2",style:{width:"80%",background:"#240940",color:"white"},children:(0,m.jsxs)(h.eW,{children:[(0,m.jsx)(h.ll,{style:{color:"white"},children:(0,m.jsx)(h.$j,{type:"grow",color:"warning"})}),(0,m.jsx)(h._R,{style:{color:"white"},children:"Loading your collection, please wait"})]})})});else if(0===r.length)z=(0,m.jsx)(h.JX,{xs:"12",md:"12",style:{display:"flex",justifyContent:"center"},children:(0,m.jsx)(h.Zb,{className:"mb-1 mt-2",style:{width:"80%",background:"#240940",color:"white"},children:(0,m.jsx)(h.eW,{children:(0,m.jsx)(h.ll,{style:{color:"white"},children:"It looks like you don't own any CryptoMonkeys NFT's yet... It's time to buy some in the portals section!"})})})});else{z=[];var W,U=(0,i.Z)(r);try{var L=function(){var e=W.value,t=(parseInt(e.nftIndex)+7834).toString();z.push((0,m.jsx)(p,{monkeyType:e.nftData[0],monkeyLevel:e.nftData[1],tokenId:t,playGame:function(){return G(e)}},e.nftIndex))};for(U.s();!(W=U.n()).done;)L()}catch(E){U.e(E)}finally{U.f()}}return(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)(u.TransitionGroup,{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,m.jsx)(u.CSSTransition,{component:"div",classNames:"TabsAnimation",appear:!0,timeout:1500,enter:!1,exit:!1,children:(0,m.jsxs)(h.X2,{className:"text-center gx-0",style:{width:"90%"},children:[(0,m.jsx)(h.JX,{md:"12",children:(0,m.jsx)(h.Zb,{className:"main-card mb-3 mt-3",style:{background:"#561473"},children:(0,m.jsxs)(h.eW,{children:[(0,m.jsx)(h.ll,{style:{color:"white"},children:"Time to farm $BNANA"}),(0,m.jsx)("div",{className:"divider"}),(0,m.jsx)(h.X2,{className:"text-center mt-3 gx-0",children:(0,m.jsx)(C,{monkeyType:f.monkeyType,animationDuration:f.animationDuration,shouldAnimate:f.shouldAnimate,result:f.result})})]})})}),z]})})}),(0,m.jsx)(S,{closeModal:function(){return k(!1)},open:j,won:Z,wonValue:A}),(0,m.jsx)(D,{closeModal:function(){return O(!1)},open:B})]})};var M=function(e){e.match;var t=function(){var e=(0,s.useState)(0),t=(0,a.Z)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.Z,{forceUpdate:function(){return t()}}),(0,m.jsxs)("div",{className:"app-main",children:[(0,m.jsx)(o.Z,{}),(0,m.jsx)("div",{className:"app-main__outer",children:(0,m.jsx)("div",{className:"app-main__inner p-0",children:(0,m.jsx)(J,{})})})]})]})}},8298:function(e,t,n){e.exports=n.p+"static/media/Castle.d7db9e1bf9e1f9952789.jpg"},31887:function(e,t,n){e.exports=n.p+"static/media/Cave.e0b4376d106e30bdc0b8.jpg"},38522:function(e,t,n){e.exports=n.p+"static/media/Farm.ab0de6624077e9407bf5.jpg"},34787:function(e,t,n){e.exports=n.p+"static/media/Forest.051a2d03a539738b28bb.jpg"},72082:function(e,t,n){e.exports=n.p+"static/media/Mars.8f55686eca5540fc9733.jpg"},53951:function(e,t,n){e.exports=n.p+"static/media/Office1.6c49268de9259454068a.jpg"},40985:function(e,t,n){e.exports=n.p+"static/media/Office2.b6daba709a6924040100.jpg"},30951:function(e,t,n){e.exports=n.p+"static/media/Space.c6e6d726d1d0285469f2.jpg"},85734:function(e,t,n){e.exports=n.p+"static/media/timeMachine.2ad1928a0d3fdea8bb9c.jpg"}}]);
//# sourceMappingURL=952.58bb97dc.chunk.js.map